import { useState } from 'react';\nimport { useSession, useRouter } from 'next-auth/client';\nimport openaiService from '../lib/openaiService';\n\nconst Chat = () => {\n  const [session] = useSession();\n  const [message, setMessage] = useState('');\n  const [responses, setResponses] = useState([]);\n  const router = useRouter();\n\n  if (!session) {\n    router.push('/');\n    return null;\n  }\n\n  async function sendMessage() {\n    if (!message.trim()) return;\n    const response = await openaiService(session.user.email, message);\n    setResponses((prevResponses) => [...prevResponses, { message, response }]);\n    setMessage('');\n  }\n\n  return (\n    <div>\n      <h2>Chat</h2>\n      <div className='chat-container'>\n        {responses.map((item, index) => (\n          <div key={index} className='chat-message'>\n            <p>{item.message}</p>\n            <p>{item.response}</p>\n          </div>\n        ))}\n      </div>\n      <div className='chat-input'>\n        <input type='text' value={message} onChange={(e) => setMessage(e.target.value)} />\n        <button onClick={sendMessage}>Send</button>\n      </div>\n    </div>\n  );\n};\n\nexport default Chat;