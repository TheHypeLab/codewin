import { useState, useEffect } from 'react';\nimport { supabase } from '../utils/supabaseClient';\n\nconst Settings = () => {\n  const [loading, setLoading] = useState(false);\n  const [openaiApiKey, setOpenaiApiKey] = useState('');\n\n  useEffect(() => {\n    getApiKey();\n  }, []);\n\n  async function getApiKey() {\n    setLoading(true);\n    try {\n      const { data, error } = await supabase.from('user_settings').select('openai_api_key').single();\n      if (error) throw error;\n      setOpenaiApiKey(data.openai_api_key || '');\n    } catch (error) {\n      console.error('Error fetching API key:', error);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  async function saveApiKey() {\n    setLoading(true);\n    try {\n      const { error } = await supabase.from('user_settings').upsert({ openai_api_key: openaiApiKey });\n      if (error) throw error;\n    } catch (error) {\n      console.error('Error saving API key:', error);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  return (\n    <div>\n      <h2>Settings</h2>\n      <div>\n        <label htmlFor='openaiApiKey'>OpenAI API Key</label>\n        <input id='openaiApiKey' type='text' value={openaiApiKey} onChange={(e) => setOpenaiApiKey(e.target.value)} />\n        <button onClick={saveApiKey} disabled={loading}>Save API Key</button>\n      </div>\n    </div>\n  );\n};\n\nexport default Settings;