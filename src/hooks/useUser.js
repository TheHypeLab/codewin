import { useState, useEffect } from 'react';\nimport { useRouter } from 'next/router';\nimport { createClient } from '@supabase/supabase-js';\n\nconst supabase = createClient(\n  process.env.NEXT_PUBLIC_SUPABASE_URL,\n  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY\n);\n\nfunction useUser() {\n  const [user, setUser] = useState(null);\n  const router = useRouter();\n\n  useEffect(() => {\n    const removeSubscription = supabase.auth.onAuthStateChange((event, session) => {\n      setUser(session ? session.user : null);\n    });\n\n    return () => {\n      // Cleanup subscription\n      removeSubscription();\n    };\n  }, []);\n\n  async function signOut() {\n    await supabase.auth.signOut();\n  }\n\n  return { user, signOut };\n}\n\nexport default useUser;