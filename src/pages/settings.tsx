import { useState, useEffect } from 'react';\nimport Layout from '../components/Layout';\nimport { useAuth } from '../context/AuthContext';\nimport { updateUserApiKey } from '../utils/db';\n\nconst Settings = () => {\n  const { user } = useAuth();\n  const [apiKey, setApiKey] = useState('');\n  const [isSaved, setIsSaved] = useState(false);\n\n  useEffect(() => {\n    if (user?.metadata?.apikey) {\n      setApiKey(user.metadata.apikey);\n    }\n  }, [user]);\n\n  const handleSaveApiKey = async () => {\n    await updateUserApiKey(user.id, apiKey);\n    setIsSaved(true);\n    setTimeout(() => setIsSaved(false), 2000);\n  };\n\n  return (\n    <Layout title='Settings'>\n      <h1 className='text-2xl font-bold mb-6'>Settings</h1>\n      <div className='w-full sm:w-80'>\n        <label htmlFor='apikey' className='block text-sm font-medium text-gray-700'>OpenAI API Key</label>\n        <input\n          id='apikey'\n          className='mt-1 block w-full px-4 py-2'\n          type='password'\n          value={apiKey}\n          onChange={(e) => setApiKey(e.target.value)}\n        />\n        <button\n          className='mt-4 px-4 py-2 bg-blue-600 text-white rounded'\n          onClick={handleSaveApiKey}\n        >\n          Save API Key\n        </button>\n        {isSaved && <p className='text-green-600 mt-2'>API Key saved!</p>}\n      </div>\n    </Layout>\n  );\n};\n\nexport default Settings;